[
  {
    "id": "_pb_users_auth_",
    "name": "users",
    "type": "auth",
    "system": false,
    "fields": [
      {
        "id": "u_name",
        "name": "name",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": true,
        "hidden": false,
        "min": null,
        "max": 100,
        "pattern": ""
      },
      {
        "id": "u_role",
        "name": "role",
        "type": "select",
        "system": false,
        "required": true,
        "presentable": false,
        "hidden": false,
        "maxSelect": 1,
        "values": ["user", "admin"]
      }
    ],
    "indexes": [],
    "listRule": "@request.auth.role = 'admin'",
    "viewRule": "@request.auth.id = id || @request.auth.role = 'admin'",
    "createRule": "@request.auth.role = 'admin'",
    "updateRule": "@request.auth.id = id || @request.auth.role = 'admin'",
    "deleteRule": "@request.auth.role = 'admin'",
    "authRule": "",
    "manageRule": "@request.auth.role = 'admin'",
    "emailAuth": {
      "enabled": true,
      "identityField": "email",
      "passwordField": "password"
    },
    "passwordAuth": {
      "enabled": true,
      "identityFields": ["email"]
    },
    "oauth2": {
      "enabled": false
    },
    "authToken": {
      "duration": 604800
    },
    "verificationToken": {
      "duration": 259200
    },
    "passwordResetToken": {
      "duration": 1800
    },
    "fileToken": {
      "duration": 180
    }
  },
  {
    "id": "k5wmc7p6b8ydbdj",
    "name": "media",
    "type": "base",
    "system": false,
    "fields": [
      {
        "id": "id",
        "name": "id",
        "type": "text",
        "system": true,
        "required": true,
        "presentable": false,
        "hidden": false,
        "autogeneratePattern": "[a-z0-9]{15}",
        "min": 15,
        "max": 15,
        "pattern": "^[a-z0-9]+$",
        "primaryKey": true
      },
      {
        "id": "created",
        "name": "created",
        "type": "autodate",
        "system": true,
        "required": false,
        "presentable": false,
        "hidden": false,
        "onCreate": true,
        "onUpdate": false
      },
      {
        "id": "updated",
        "name": "updated",
        "type": "autodate",
        "system": true,
        "required": false,
        "presentable": false,
        "hidden": false,
        "onCreate": true,
        "onUpdate": true
      },
      {
        "id": "f_file",
        "name": "file",
        "type": "file",
        "system": false,
        "required": true,
        "presentable": false,
        "hidden": false,
        "mimeTypes": [],
        "thumbs": [],
        "maxSelect": 1,
        "maxSize": 52428800,
        "protected": false
      },
      {
        "id": "f_type",
        "name": "type",
        "type": "select",
        "system": false,
        "required": true,
        "presentable": false,
        "hidden": false,
        "maxSelect": 1,
        "values": ["image", "video"]
      },
      {
        "id": "f_status",
        "name": "status",
        "type": "select",
        "system": false,
        "required": true,
        "presentable": false,
        "hidden": false,
        "maxSelect": 1,
        "values": ["pending", "published", "rejected"]
      },
      {
        "id": "f_title",
        "name": "title",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "min": null,
        "max": null,
        "pattern": ""
      },
      {
        "id": "f_owner",
        "name": "owner",
        "type": "relation",
        "system": false,
        "required": true,
        "presentable": false,
        "hidden": false,
        "collectionId": "_pb_users_auth_",
        "cascadeDelete": false,
        "minSelect": null,
        "maxSelect": 1
      },
      {
        "id": "f_appr",
        "name": "approvedBy",
        "type": "relation",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "collectionId": "_pb_users_auth_",
        "cascadeDelete": false,
        "minSelect": null,
        "maxSelect": 1
      },
      {
        "id": "f_taken",
        "name": "takenAt",
        "type": "date",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "min": "",
        "max": ""
      },
      {
        "id": "f_width",
        "name": "width",
        "type": "number",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "min": null,
        "max": null,
        "onlyInt": false
      },
      {
        "id": "f_height",
        "name": "height",
        "type": "number",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "min": null,
        "max": null,
        "onlyInt": false
      },
      {
        "id": "f_dur",
        "name": "duration",
        "type": "number",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "min": null,
        "max": null,
        "onlyInt": false
      },
      {
        "id": "f_orient",
        "name": "orientation",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "min": null,
        "max": null,
        "pattern": ""
      },
      {
        "id": "f_tags",
        "name": "tags",
        "type": "json",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "maxSize": 1048576
      },
      {
        "id": "f_scope",
        "name": "deviceScopes",
        "type": "json",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "maxSize": 1048576
      },
      {
        "id": "f_checksum",
        "name": "checksum",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "min": null,
        "max": null,
        "pattern": ""
      },
      {
        "id": "f_proc_status",
        "name": "processingStatus",
        "type": "select",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "maxSelect": 1,
        "values": ["pending", "processing", "completed", "failed"]
      },
      {
        "id": "f_proc_error",
        "name": "processingError",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "min": null,
        "max": null,
        "pattern": ""
      },
      {
        "id": "f_disp",
        "name": "displayUrl",
        "type": "url",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "onlyDomains": [],
        "exceptDomains": []
      },
      {
        "id": "f_blur",
        "name": "blurUrl",
        "type": "url",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "onlyDomains": [],
        "exceptDomains": []
      },
      {
        "id": "f_thumb",
        "name": "thumbUrl",
        "type": "url",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "onlyDomains": [],
        "exceptDomains": []
      },
      {
        "id": "f_video",
        "name": "videoUrl",
        "type": "url",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "onlyDomains": [],
        "exceptDomains": []
      },
      {
        "id": "f_poster",
        "name": "posterUrl",
        "type": "url",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "onlyDomains": [],
        "exceptDomains": []
      }
    ],
    "indexes": [
      "CREATE INDEX idx_media_status ON media (status)",
      "CREATE INDEX idx_media_owner ON media (owner)",
      "CREATE INDEX idx_media_tags ON media (tags)"
    ],
    "listRule": "@request.auth.id != '' && (@request.auth.role = 'admin' || status = 'published' || owner = @request.auth.id)",
    "viewRule": "@request.auth.id != '' && (@request.auth.role = 'admin' || status = 'published' || owner = @request.auth.id)",
    "createRule": "@request.auth.id != ''",
    "updateRule": "@request.auth.role = 'admin' || owner = @request.auth.id && status = 'pending'",
    "deleteRule": "@request.auth.role = 'admin'"
  },
  {
    "id": "w6u7d2j9h1x0v8s",
    "name": "approvals",
    "type": "base",
    "system": false,
    "fields": [
      {
        "id": "a_media",
        "name": "media",
        "type": "relation",
        "system": false,
        "required": true,
        "presentable": false,
        "hidden": false,
        "collectionId": "k5wmc7p6b8ydbdj",
        "cascadeDelete": false,
        "minSelect": null,
        "maxSelect": 1
      },
      {
        "id": "a_reviewer",
        "name": "reviewer",
        "type": "relation",
        "system": false,
        "required": true,
        "presentable": false,
        "hidden": false,
        "collectionId": "_pb_users_auth_",
        "cascadeDelete": false,
        "minSelect": null,
        "maxSelect": 1
      },
      {
        "id": "a_status",
        "name": "status",
        "type": "select",
        "system": false,
        "required": true,
        "presentable": false,
        "hidden": false,
        "maxSelect": 1,
        "values": ["approved", "rejected"]
      },
      {
        "id": "a_notes",
        "name": "notes",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "min": null,
        "max": null,
        "pattern": ""
      },
      {
        "id": "a_reviewed",
        "name": "reviewedAt",
        "type": "date",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "min": "",
        "max": ""
      }
    ],
    "indexes": ["CREATE INDEX idx_approvals_media ON approvals (media)"],
    "listRule": "@request.auth.role = 'admin'",
    "viewRule": "@request.auth.role = 'admin'",
    "createRule": "@request.auth.role = 'admin'",
    "updateRule": "@request.auth.role = 'admin'",
    "deleteRule": "@request.auth.role = 'admin'"
  },
  {
    "id": "z3q4n6m2t9p1r7a",
    "name": "devices",
    "type": "base",
    "system": false,
    "fields": [
      {
        "id": "d_name",
        "name": "name",
        "type": "text",
        "system": false,
        "required": true,
        "presentable": false,
        "hidden": false,
        "min": null,
        "max": null,
        "pattern": ""
      },
      {
        "id": "d_key",
        "name": "apiKey",
        "type": "text",
        "system": false,
        "required": true,
        "presentable": false,
        "hidden": false,
        "min": null,
        "max": null,
        "pattern": ""
      },
      {
        "id": "d_seen",
        "name": "lastSeen",
        "type": "date",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "min": "",
        "max": ""
      },
      {
        "id": "d_cfg",
        "name": "config",
        "type": "json",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "maxSize": 1048576
      }
    ],
    "indexes": ["CREATE INDEX idx_devices_apiKey ON devices (apiKey)"],
    "listRule": "@request.auth.role = 'admin'",
    "viewRule": "@request.auth.role = 'admin'",
    "createRule": "@request.auth.role = 'admin'",
    "updateRule": "@request.auth.role = 'admin'",
    "deleteRule": "@request.auth.role = 'admin'"
  },
  {
    "id": "c8n9f5k3h2w6x1e",
    "name": "plugins",
    "type": "base",
    "system": false,
    "fields": [
      {
        "id": "p_manifest",
        "name": "manifest",
        "type": "json",
        "system": false,
        "required": true,
        "presentable": false,
        "hidden": false,
        "maxSize": 1048576
      },
      {
        "id": "p_check",
        "name": "checksum",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": false,
        "hidden": false,
        "min": null,
        "max": null,
        "pattern": ""
      },
      {
        "id": "p_enabled",
        "name": "enabled",
        "type": "bool",
        "system": false,
        "required": true,
        "presentable": false,
        "hidden": false
      }
    ],
    "indexes": [],
    "listRule": "@request.auth.role = 'admin'",
    "viewRule": "@request.auth.role = 'admin'",
    "createRule": "@request.auth.role = 'admin'",
    "updateRule": "@request.auth.role = 'admin'",
    "deleteRule": "@request.auth.role = 'admin'"
  }
]
